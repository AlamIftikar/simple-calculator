<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Elegant Calculator</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-start: #e8eefc;
      --bg-end: #d6e2f9;
      --card: rgba(255,255,255,0.95);
      --shadow: 0 20px 40px rgba(0,0,0,0.12);
      --text: #1f2d3d;
      --muted: #6b7280;
      --display-bg: linear-gradient(135deg, #ffffff 0%, #f2f5fb 100%);
      --btn: #e9eefc;
      --btn-shadow: 0 2px 0 rgba(0,0,0,0.04);
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: 'Inter', system-ui, -apple-system, Arial;
      color: var(--text);
      display: grid;
      place-items: center;
      min-height: 100vh;
      background: radial-gradient(circle at 20% -10%, rgba(99,102,241,0.15), transparent 40%),
                  radial-gradient(circle at 100% 0%, rgba(16,185,129,0.15), transparent 40%),
                  linear-gradient(135deg, var(--bg-start), var(--bg-end));
    }

    .calculator {
      width: min(420px, 92vw);
      border-radius: 20px;
      padding: 20px;
      background: var(--card);
      box-shadow: var(--shadow);
      border: 1px solid rgba(0,0,0,0.05);
      backdrop-filter: saturate(1.2) blur(2px);
    }

    .display {
      height: 68px;
      border-radius: 12px;
      background: var(--display-bg);
      border: 1px solid #d8e1ec;
      padding: 14px 16px;
      margin-bottom: 14px;
      display: flex;
      align-items: center;
      justify-content: flex-end;
      font-size: 28px;
      font-weight: 600;
      color: #1b2b43;
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
    }

    .buttons {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      grid-gap: 12px;
    }

    button {
      border: none;
      border-radius: 12px;
      padding: 16px;
      font-size: 18px;
      cursor: pointer;
      transition: transform 0.04s ease, background-color 0.2s ease;
      background: linear-gradient(#f5f7fb, #e3eafc);
      box-shadow: var(--btn-shadow);
      color: #1f2d3d;
    }

    button:focus-visible {
      outline: 2px solid #4e9af9;
      outline-offset: 2px;
    }

    button:hover {
      transform: translateY(-1px);
      background: linear-gradient(#f7f9ff, #e2e8ff);
    }

    button:active {
      transform: translateY(0);
      background: linear-gradient(#e3eafc, #dde4ff);
    }

    .operator {
      background: linear-gradient(135deg, #6a5af9 0%, #4b3ec6 100%);
      color: #fff;
    }

    .operator:hover {
      background: linear-gradient(135deg, #7b63f9 0%, #5a41cf 100%);
    }

    .clear {
      background: linear-gradient(135deg, #ff6b6b 0%, #e03131 100%);
      color: #fff;
    }

    .clear:hover {
      background: linear-gradient(135deg, #ff8080 0%, #e64a4a 100%);
    }

    .equal {
      grid-column: span 2;
      background: linear-gradient(135deg, #2bd675 0%, #14a34a 100%);
      color: #fff;
    }

    .equal:hover {
      background: linear-gradient(135deg, #32e592 0%, #19a15e 100%);
    }

    @media (max-width: 420px) {
      .display { font-size: 24px; height: 60px; }
      button { padding: 14px; font-size: 17px; }
    }
  </style>
</head>
<body>

  <div class="calculator" aria-label="Elegant Calculator">
    <div class="display" id="display">0</div>
    <div class="buttons" role="group" aria-label="Calculator keypad">
      <button class="clear" aria-label="Clear">C</button>
      <button class="operator" aria-label="Divide">/</button>
      <button class="operator" aria-label="Multiply">*</button>
      <button class="operator" aria-label="Subtract">-</button>

      <button>7</button>
      <button>8</button>
      <button>9</button>
      <button class="operator" aria-label="Add">+</button>

      <button>4</button>
      <button>5</button>
      <button>6</button>
      <button class="operator" aria-label="Subtract">-</button>

      <button>1</button>
      <button>2</button>
      <button>3</button>
      <button class="operator" aria-label="Add">+</button>

      <button>0</button>
      <button>.</button>
      <button class="equal" aria-label="Equals">=</button>
    </div>
  </div>

  <script>
    const display = document.querySelector('#display');
    const buttons = document.querySelectorAll('.buttons button');

    let currentInput = '';
    let operator = null;
    let previousValue = null;

    buttons.forEach(button => {
      button.addEventListener('click', () => {
        const value = button.textContent;

        if (isNaN(value) && value !== '.' && value !== '=') {
          handleOperator(value);
        } else if (value === '.') {
          handleDecimal();
        } else if (value === '=') {
          handleEqual();
        } else {
          handleNumber(value);
        }
      });
    });

    function handleNumber(number) {
      if (currentInput.length < 10) { // Limit input length
        currentInput += number;
        updateDisplay();
      }
    }

    function handleOperator(op) {
      if (op === 'C') {
        clearDisplay();
        return;
      }

      if (previousValue === null) {
        previousValue = parseFloat(currentInput);
      } else if (currentInput) {
        calculate();
      }

      operator = op;
      currentInput = '';
      updateDisplay();
    }

    function handleDecimal() {
      if (!currentInput.includes('.')) {
        currentInput += '.';
        updateDisplay();
      }
    }

    function handleEqual() {
      calculate();
      operator = null;
    }

    function calculate() {
      if (operator === null || previousValue === null) return;

      const currentValue = parseFloat(currentInput);
      let result;

      switch (operator) {
        case '+':
          result = previousValue + currentValue;
          break;
        case '-':
          result = previousValue - currentValue;
          break;
        case '*':
          result = previousValue * currentValue;
          break;
        case '/':
          if (currentValue === 0) {
            alert("Cannot divide by zero!");
            clearDisplay();
            return;
          }
          result = previousValue / currentValue;
          break;
        default:
          return;
      }

      currentInput = String(result);
      previousValue = null;
      operator = null;
      updateDisplay();
    }

    function updateDisplay() {
      display.textContent = currentInput || '0';
    }

    function clearDisplay() {
      currentInput = '';
      operator = null;
      previousValue = null;
      updateDisplay();
    }
  </script>
</body>
</html>